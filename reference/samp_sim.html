<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sample a daily time series at a set frequency — samp_sim • WRTDStidal</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Sample a daily time series at a set frequency — samp_sim" />
<meta property="og:description" content="Sample a daily water quality time series at a set monthly frequency" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">WRTDStidal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">Package overview</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fawda123/WRTDStidal/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample a daily time series at a set frequency</h1>
    <small class="dont-index">Source: <a href='https://github.com/fawda123/WRTDStidal/blob/master/R/samp_sim.R'><code>R/samp_sim.R</code></a></small>
    <div class="hidden name"><code>samp_sim.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Sample a daily water quality time series at a set monthly frequency</p>
    </div>

    <pre class="usage"><span class='fu'>samp_sim</span><span class='op'>(</span><span class='va'>dat_in</span>, unit <span class='op'>=</span> <span class='st'>"month"</span>, irregular <span class='op'>=</span> <span class='cn'>TRUE</span>, missper <span class='op'>=</span> <span class='fl'>0</span>,
  blck <span class='op'>=</span> <span class='fl'>1</span>, blckper <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dat_in</th>
      <td><p>input <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> that is returned from <code><a href='lnres_sim.html'>lnres_sim</a></code> or <code><a href='all_sims.html'>all_sims</a></code></p></td>
    </tr>
    <tr>
      <th>unit</th>
      <td><p>chr string indicating sampling unit, must be year, quarter, month, week, or yday for equivalent lubridate function</p></td>
    </tr>
    <tr>
      <th>irregular</th>
      <td><p>logical indicating if monthly sampling is done randomly within each <code>unit</code>, otherwise the first value is returned</p></td>
    </tr>
    <tr>
      <th>missper</th>
      <td><p>numeric from 0-1 indicating percentage of observations used for test dataset</p></td>
    </tr>
    <tr>
      <th>blck</th>
      <td><p>numeric indicating block size for resampling test dataset, see details</p></td>
    </tr>
    <tr>
      <th>blckper</th>
      <td><p>logical indicating if the value passed to <code>blck</code> is a proportion of <code>missper</code>, i.e., blocks are to be sized as a percentage of the total size of the missing data</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Original data frame with rows subset based on number of desired monthly samples.  If <code>missper &gt; 0</code>, a list is returned where the first element is the index values for the test dataset and the second is the complete subsampled dataset.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is intended for sampling a simulated daily time series of water quality that is returned by <code><a href='lnres_sim.html'>lnres_sim</a></code> or <code><a href='all_sims.html'>all_sims</a></code>.</p>
<p>The <code>missper</code> argument is used to create a test dataset as a proportion of all observations in the sub-sampled output dataset.  The test dataset is created with random block sampling appropriate for time series.  Block sampling of the output dataset occurs until the number of unique observations is equal to the percentage defined by <code>missper</code>.  Overlap of blocks are not doubly considered towards the observation counts to satisfy <code>missper</code>, i.e., sets of continuous observations longer than <code>blck</code> can be returned because of sampling overlap.  Setting <code>blck = 1</code> and <code>blockper = FALSE</code> is completely random sampling for missing data.  Values for <code>blck</code> must be 1 or greater if <code>blockper = FALSE</code> and 1 or less if <code>blckper = T</code>.  If <code>blck = 1</code> and <code>blckper = T</code>, the missing data will be one continuous block.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='lnres_sim.html'>lnres_sim</a></code>, <code><a href='all_sims.html'>all_sims</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## example data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>daydat</span><span class='op'>)</span>

<span class='co'>## simulate</span>
<span class='va'>tosamp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='all_sims.html'>all_sims</a></span><span class='op'>(</span><span class='va'>daydat</span><span class='op'>)</span>

<span class='co'>## sample</span>
<span class='fu'>samp_sim</span><span class='op'>(</span><span class='va'>tosamp</span><span class='op'>)</span>

<span class='co'>## sample and create test dataset</span>
<span class='co'># test dataset is 30% size of monthly subsample using block sampling with size = 4</span>
<span class='fu'>samp_sim</span><span class='op'>(</span><span class='va'>tosamp</span>, missper <span class='op'>=</span> <span class='fl'>0.3</span>, blck <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcus W. Beck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>



<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fit weighted regression and get predicted/normalized response variable — modfit • WRTDStidal</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fit weighted regression and get predicted/normalized response variable — modfit" />
<meta property="og:description" content="Fit weighted regression and get predicted/normalized response variable from a data frame.  This is a wrapper for multiple function used to create a weighted regression model and should be used rather than the individual functions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">WRTDStidal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">Package overview</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fawda123/wtreg_for_estuaries/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fit weighted regression and get predicted/normalized response variable</h1>
    <small class="dont-index">Source: <a href='https://github.com/fawda123/wtreg_for_estuaries/blob/master/R/modfit.R'><code>R/modfit.R</code></a></small>
    <div class="hidden name"><code>modfit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fit weighted regression and get predicted/normalized response variable from a data frame.  This is a wrapper for multiple function used to create a weighted regression model and should be used rather than the individual functions.</p>
    </div>

    <pre class="usage"><span class='fu'>modfit</span><span class='op'>(</span><span class='va'>dat_in</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>modfit</span><span class='op'>(</span><span class='va'>dat_in</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for tidal</span>
<span class='fu'>modfit</span><span class='op'>(</span><span class='va'>dat_in</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for tidalmean</span>
<span class='fu'>modfit</span><span class='op'>(</span><span class='va'>dat_in</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>modfit</span><span class='op'>(</span><span class='va'>dat_in</span>, resp_type <span class='op'>=</span> <span class='st'>"quantile"</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dat_in</th>
      <td><p>input <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> for fitting the model, see details</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to or from other methods</p></td>
    </tr>
    <tr>
      <th>resp_type</th>
      <td><p>chr string indicating the type of model response to use, quantile or mean model</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tidal object with predicted and normalized response variable predictions, attributes updated accordingly.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is used as a convenience to combine several functions that accomplish specific tasks, primarily the creation of a tidal or tidalmean object, fitting of the weighted regression models with <code><a href='wrtds.html'>wrtds</a></code>, extraction of fitted values from the interpolation grids using <code><a href='respred.html'>respred</a></code>, and normalization of the fitted values from the interpolation grid using <code><a href='resnorm.html'>resnorm</a></code>.  The format of the input should be a <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> with response variable observations as rows and the first four columns as date, response variable, salinity/flow, and detection limits.  The order of the columns may vary provided the order of each of the four critical variables is specified by the <code>ind</code> argument that is passed to the <code><a href='tidal.html'>tidal</a></code> or <code><a href='tidalmean.html'>tidalmean</a></code> function.  The response variable data are also assumed to be in log-space, otherwise use <code>reslog = FALSE</code> which is also passed to the <code><a href='tidal.html'>tidal</a></code> or <code><a href='tidalmean.html'>tidalmean</a></code> function.  The dataset described in <code><a href='chldat.html'>chldat</a></code> is an example of the correct format.</p>
<p>For quantile models, the default conditional quantile that is predicted is the median (<code>tau = 0.5</code>, passed to the <code><a href='wrtds.html'>wrtds</a></code> function).  Numerous other arguments affect the output and the default parameters may not be appropriate for all scenarios.  Arguments used by other functions can be specified explicitly with the initial call.  The documentation for the functions under `see also' should be consulted for available arguments, as well as the examples that illustrate common changes to the default values.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>See the help files for <code><a href='tidal.html'>tidal</a></code>, <code><a href='tidalmean.html'>tidalmean</a></code>, <code><a href='wrtds.html'>wrtds</a></code>, <code><a href='getwts.html'>getwts</a></code>, <code><a href='respred.html'>respred</a></code>, and <code><a href='resnorm.html'>resnorm</a></code> for arguments that can be passed to this function.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## load data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>chldat</span><span class='op'>)</span>

<span class='co'>## fit the model and get predicted/normalized data for response variable</span>
<span class='co'># default median fit</span>
<span class='co'># grids predicted across salinity range with ten values</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>modfit</span><span class='op'>(</span><span class='va'>chldat</span><span class='op'>)</span>

<span class='co'># for mean models</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>modfit</span><span class='op'>(</span><span class='va'>chldat</span>, resp_type <span class='op'>=</span> <span class='st'>'mean'</span><span class='op'>)</span>

<span class='co'>## fit different quantiles and smaller interpolation grid</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>modfit</span><span class='op'>(</span><span class='va'>chldat</span>, tau <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.8</span><span class='op'>)</span>, flo_div <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>

<span class='co'>## fit with different window widths</span>
<span class='co'># half-window widths of one day, five years, and 0.3 salinity</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>modfit</span><span class='op'>(</span><span class='va'>chldat</span>, wins <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>0.3</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## suppress console output</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'>modfit</span><span class='op'>(</span><span class='va'>chldat</span>, trace <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcus W. Beck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


